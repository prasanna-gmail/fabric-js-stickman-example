{"title":"Probability Spinners","free":true,"resources":[{"name":"Spinners","type":"slides","pages":[{"paths":[{"obj":[{"type":"text2","rect":[486.54,220.466,680.502,253.069],"fontSize":32,"text":[""],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"color":"none","radius":15},"id":"probabilityBox"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[497.921,113.543,678.807,549.263],"fontSize":32,"text":[""],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"color":"none","radius":15},"id":"trialsBox"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[20,628.198,207.203,57.53],"fontSize":32,"text":["New Spinner"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10,"color":"#CFF"},"interact":{"click":"function(obj2) {var spinner = o('spinner');var n = [2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 7, 8, 8].ran();var used = '';do {used = '';spinner.colors = '';for (var i = 0; i < n; i++) {var c = ['b', 'r', 'w'].ran();spinner.colors += c;if (used.indexOf(c) === -1) used += c;}} while (used.length < 2);o('editspinner').colors = spinner.colors;spinner.onupdate();}"}}],"selected":false},{"obj":[{"type":"toggleButton","rect":[476.71,22.145,698.675,50],"options":[["Probability"],["Expectation"],["Trials"]],"value":-1,"lineWidth":2,"radius":30,"fontSize":28,"color":"#00F","onchange":"function(obj2) {var types = ['probability', 'expectation', 'trials'];var value = obj2.value;var trialsTypes = ['trialsdata', 'trialstable', 'trialsgrid'];var trialsValue = o('trialsToggle').value;for (var p = 0; p < draw.path.length; p++) {var path = draw.path[p];var obj = path.obj[0];if (un(obj.id)) continue;for (var i = 0; i < 2; i++) {var type = types[i];if (obj.id.indexOf(type) === 0) {path.vis = i === obj2.value;break;}}if (obj.id.indexOf('trials') === 0) {if (types[value] === 'trials') {path.vis = true;for (var i = 0; i < 3; i++) {var trialsType = trialsTypes[i];if (obj.id.indexOf(trialsType) === 0) {path.vis = i === trialsValue;break;}}} else {path.vis = false;}}}}","allowNoValue":true}],"selected":false},{"obj":[{"type":"text2","rect":[351.541,318.847,423.59,54],"fontSize":42,"text":["P(<<bold:true>>blue<<bold:false>>)="],"align":[1,0],"algPadding":4,"id":"probabilityLabel"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[546.879,273.28,552.336,129.903],"fontSize":42,"text":["If spun <<bold:true>>150 times<<bold:false>>, <<bold:true>>blue⏎<<bold:false>>is expected              times."],"align":[0,0],"algPadding":4,"italic":false,"lineSpacingFactor":1.7,"id":"expectationText"}],"vis":false,"selected":false},{"obj":[{"type":"grid","left":656.039,"top":207.529,"width":415.873,"height":329.393,"xMin":0,"xMax":1,"yMin":0,"yMax":10,"xMajorStep":10,"xMinorStep":10,"yMajorStep":5,"yMinorStep":1,"xZero":250,"yZero":350,"showBorder":false,"showLabels":true,"originStyle":"numbers","id":"trialsgrid","path":[],"showXScale":false,"fontSize":36,"axisLabels":[{"text":[""]},{"text":["<<fontSize:36>>Frequency"],"dist":70}],"update":"function() {var spinner = o('spinner');var grid = o('trialsgrid');grid.path = [];var data = stats.freqTable(spinner.data);var w = 0.1;grid.yMax = 10;for (var c = 0; c < 3; c++) {var key = 'brw' [c];var freq = un(data[key]) ? 0 : data[key];if (freq > 0) {grid.path.push({type: 'rect',rect: [c * 3 * w + w, 0, 2 * w, freq],fillColor: draw.spinner.colors[key].hex,color: '#000',lineWidth: 2});grid.yMax = Math.max(Math.round(10 * Math.ceil(freq / 10)), grid.yMax);}var gridLabel = o('trialsgridLabel' + c);gridLabel.text = [key.toUpperCase()];gridLabel.bold = true;var x = getPosOfCoordX2(2 * w + c * 3 * w, grid.left, grid.width, 0, 1);gridLabel.rect = [x - 20, grid.top + grid.height, 40, 50];}grid.yMajorStep = grid.yMax / 2;grid.yMinorStep = grid.yMax / 10;}"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[20,12.222,412.413,54],"fontSize":42,"text":["Probability Spinners"],"align":[-1,0],"bold":true,"underline":true}],"selected":false},{"obj":[{"type":"spinner","center":[253.265,340.898],"radius":186.175,"colors":"brb","showLabels":true,"value":0.85,"interact":{"type":"spin"},"data":"","id":"spinner","onspin":"function() {o('trialsdata').update();o('trialstable2').update();o('trialsgrid').update();}","onupdate":"function() {var spinner = o('spinner');o('editspinner').colors = spinner.colors;spinner.data = '';var colors = stats.freqTable(spinner.colors);var label = o('probabilityLabel');var probabilityValue = o('probabilityValue');label.text = ['P(<<bold:true>>blue<<bold:false>>)='];probabilityValue.value = [un(colors.b) ? 0 : colors.b, spinner.colors.length];probabilityValue.text = ['?'];o('expectationNewButton').interact.click();o('trialsdata').update();o('trialstable2').update();o('trialsgrid').update();}"}],"selected":false},{"obj":[{"type":"text2","rect":[606.894,630.992,141.641,54],"fontSize":28,"text":["Spin"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10},"interact":{"click":"function(obj2) {var obj = o('spinner');obj.value = 0.01 * ran(0, 99);draw.spinner.registerSpin(obj);obj.onspin();}"},"id":"trialsSpinButton"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[765.622,631.728,142.316,54],"fontSize":28,"text":["Spin ×10"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10},"interact":{"click":"function(obj2) {var obj = o('spinner');for (var i = 0; i < 10; i++) {obj.value = 0.01 * ran(0, 99);draw.spinner.registerSpin(obj);}obj.onspin();}"},"id":"trialsSpin10Button"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[926.115,630.449,141.641,54],"fontSize":28,"text":["Reset"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10},"interact":{"click":"function(obj2) {var obj = o('spinner');draw.spinner.resetData(obj);obj.onspin();}"},"id":"trialsResetButton"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[775.131,282.889,264.351,125.917],"fontSize":42,"text":["?"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":0,"color":"#FFF"},"id":"probabilityValue","interact":{"click":"function(obj2) {if (obj2.text[0] === '?') {var fdp = 'fdp' [o('probabilityFDP').value];var frac = obj2.value;if (fdp === 'd' || fdp === 'p') {if (frac[0] === 0) {obj2.text = fdp === 'p' ? ['0%'] : ['0'];} else if (frac[0] === frac[1]) {obj2.text = fdp === 'p' ? ['100%'] : ['1'];} else if (frac[1] === 3) {var n = String(frac[0] * 3);obj2.text = fdp === 'p' ? [n + n + '.', ['recurring', [n]], '%'] : ['0.', ['recurring', [n]], ''];} else if (frac[1] === 6 && (frac[0] === 2 || frac[0] === 4)) {var n = frac[0] === 4 ? '6' : '3';obj2.text = fdp === 'p' ? [n + n + '.', ['recurring', [n]], '%'] : ['0.', ['recurring', [n]], ''];} else if (frac[1] === 6 && (frac[0] === 1 || frac[0] === 5)) {var n1 = frac[0] === 5 ? '8' : '1';var n2 = frac[0] === 5 ? '3' : '6';obj2.text = fdp === 'p' ? [n1 + n2 + '.', ['recurring', [n2]], '%'] : ['0.' + n1, ['recurring', [n2]], ''];} else if (frac[1] === 7) {var digits = ['142857', '285714', '428571', '571428', '714285', '857142'][frac[0] - 1];obj2.text = fdp === 'p' ? [digits.slice(0, 2) + '.', ['recurring', [digits.slice(2) + digits.slice(0, 2)]], '%'] : ['0.', ['recurring', [digits]], ''];} else {var value = frac[0] / frac[1];if (fdp === 'p') value *= 100;obj2.text = [String(roundToNearest(value, 0.0001)) + (fdp === 'p' ? '%' : '')];}} else {obj2.text = frac[0] === 0 ? ['0'] : frac[0] === frac[1] ? ['1'] : ['', ['frac', [String(frac[0])],[String(frac[1])]], ''];}} else {obj2.text = ['?'];}}"},"value":[2,3],"fracScale":1}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[809.958,337.287,126.233,72.062],"fontSize":42,"text":["?"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":0,"color":"#FFF"},"id":"expectationValue","interact":{"click":"function(obj2) {if (obj2.text[0] === '?') {obj2.text = [String(obj2.value)];} else {obj2.text = ['?'];}}"},"value":100}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[719.214,536.922,40,50],"fontSize":32,"text":["B"],"align":[0,0],"id":"trialsgridLabel0","bold":true}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[843.976,536.922,40,50],"fontSize":32,"text":["R"],"align":[0,0],"id":"trialsgridLabel1","bold":true}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[968.737,536.922,40,50],"fontSize":32,"text":["W"],"align":[0,0],"id":"trialsgridLabel2","bold":true}],"vis":false,"selected":false},{"obj":[{"type":"toggleButton","rect":[548.601,90.971,579.828,50],"options":[["Data"],["Bars"],["Table"],["Rel Freq"]],"value":0,"lineWidth":2,"radius":30,"fontSize":28,"color":"#F00","onchange":"function(obj2) {var types = ['trialsdata', 'trialsgrid', 'trialstable1', 'trialstable2'];for (var p = 0; p < draw.path.length; p++) {var path = draw.path[p];var obj = path.obj[0];if (un(obj.id)) continue;for (var i = 0; i < 4; i++) {var type = types[i];if (obj.id.indexOf(type) === 0) {path.vis = i === obj2.value;break;}}}}","id":"trialsToggle"}],"vis":false,"selected":false},{"obj":[{"type":"table2","left":522.115,"top":168.488,"widths":[160.988,197.883],"heights":[87.706,87.706,87.706,87.706,87.706],"text":{"font":"Arial","size":32,"color":"#000"},"outerBorder":{"show":true,"width":4,"color":"#000","dash":[0,0]},"innerBorder":{"show":true,"width":2,"color":"#666","dash":[0,0]},"cells":[[{"text":["Colour"],"align":[0,0],"bold":true,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"#CCC"}},{"text":["Frequency"],"align":[0,0],"bold":true,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"#CCC"}}],[{"text":["Blue"],"align":[0,0]},{"text":["0"],"align":[0,0]}],[{"text":["Red"],"align":[0,0]},{"text":["0"],"align":[0,0]}],[{"text":["White"],"align":[0,0]},{"text":["0"],"align":[0,0]}],[{"text":["<<bold:true>>TOTAL"],"align":[0,0],"bold":false,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"none"}},{"text":["0"],"align":[0,0],"bold":false,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"none"}}]],"id":"trialstable1","update":"function() {var table = o('trialstable');var data = o('spinner').data;var freq = stats.freqTable(data);for (var i = 0; i < 3; i++) {var c = ['b', 'r', 'w'][i];var f = un(freq[c]) ? 0 : freq[c];table.cells[i + 1][1].text = [String(f)];var dec = String(roundToNearest(f / data.length, 0.001));if (dec.indexOf('.') === -1) dec += '.0';while (dec.length < 5) dec += '0';table.cells[i + 1][2].text = data.length === 0 ? [''] : ['', ['frac', [String(f)],[String(data.length)]], '=' + dec];}table.cells[4][1].text = [String(data.length)];table.cells[4][2].text = [''];}","algPadding":5,"fracScale":1,"width":358.871,"height":438.53000000000003}],"vis":false,"selected":false},{"obj":[{"type":"toggleButton","rect":[703.644,449.844,185.452,47.644],"options":[["F"],["D"],["P"]],"value":0,"lineWidth":2,"radius":30,"fontSize":28,"color":"#F00","onchange":"function(obj) {var obj2 = o('probabilityValue');if (obj2.text[0] !== '?') {obj2.text = ['?'];obj2.interact.click(obj2);}}","id":"probabilityFDP"}],"vis":false,"selected":false},{"obj":[{"type":"table2","left":522.115,"top":168.488,"widths":[160.988,197.883,270.014],"heights":[87.706,87.706,87.706,87.706,87.706],"text":{"font":"Arial","size":32,"color":"#000"},"outerBorder":{"show":true,"width":4,"color":"#000","dash":[0,0]},"innerBorder":{"show":true,"width":2,"color":"#666","dash":[0,0]},"cells":[[{"text":["Colour"],"align":[0,0],"bold":true,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"#CCC"}},{"text":["Frequency"],"align":[0,0],"bold":true,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"#CCC"}},{"text":["<<bold:true>>Relative⏎Frequency"],"align":[0,0],"bold":true,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"#CCC"}}],[{"text":["Blue"],"align":[0,0]},{"text":["0"],"align":[0,0]},{"text":[""],"align":[0,0]}],[{"text":["Red"],"align":[0,0]},{"text":["0"],"align":[0,0]},{"text":[""],"align":[0,0]}],[{"text":["White"],"align":[0,0]},{"text":["0"],"align":[0,0]},{"text":[""],"align":[0,0]}],[{"text":["<<bold:true>>TOTAL"],"align":[0,0],"bold":false,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"none"}},{"text":["0"],"align":[0,0],"bold":false,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"none"}},{"text":[""],"align":[0,0],"bold":false,"box":{"type":"loose","borderColor":"#000","borderWidth":2,"radius":0,"color":"none"}}]],"id":"trialstable2","update":"function() {var table1 = o('trialstable1');var table2 = o('trialstable2');var data = o('spinner').data;var freq = stats.freqTable(data);for (var i = 0; i < 3; i++) {var c = ['b', 'r', 'w'][i];var f = un(freq[c]) ? 0 : freq[c];table1.cells[i + 1][1].text = [String(f)];table2.cells[i + 1][1].text = [String(f)];var dec = String(roundToNearest(f / data.length, 0.001));if (dec.indexOf('.') === -1) dec += '.0';while (dec.length < 5) dec += '0';table2.cells[i + 1][2].text = data.length === 0 ? [''] : ['', ['frac', [String(f)],[String(data.length)]], '=' + dec];}table1.cells[4][1].text = [String(data.length)];table2.cells[4][1].text = [String(data.length)];table2.cells[4][2].text = [''];}","algPadding":5,"fracScale":1,"width":628.885,"height":438.53000000000003}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[503.592,232.595,638.91,225.174],"fontSize":32,"text":[""],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"color":"none","radius":15},"id":"expectationBox"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[999.733,430.142,109.179,54],"fontSize":32,"text":["New"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10,"color":"#FFC"},"id":"expectationNewButton","interact":{"click":"function(obj2) {var colors = o('spinner').colors;var freq = stats.freqTable(colors);var colorKeys = {b: 'blue',r: 'red',w: 'white'};do {var c = ['b', 'r', 'w'].ran();} while (colors.indexOf(c) === -1);var frac = simplifyFrac2([freq[c], colors.length]);do {var mult = [10, 12, 15, 20, 30, 40, 50].ran();} while (mult * frac[1] < 50);o('expectationText').text = ['If spun <<bold:true>>' + (Math.round(mult * frac[1])) + ' times<<bold:false>>, <<bold:true>>' + colorKeys[c] + br + '<<bold:false>>is expected              times.'];var expectationValue = o('expectationValue');expectationValue.value = Math.round(mult * frac[0]);expectationValue.text = ['?'];}"}}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[247.86,628.198,223.019,57.53],"fontSize":32,"text":["Edit Spinner"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10,"color":"#CFF"},"interact":{"click":"function(obj2) {for (var p = 0; p < draw.path.length; p++) {var path = draw.path[p];var obj = path.obj[0];if (!un(obj.id) && obj.id.indexOf('edit') === 0) {path.vis = true;}}}"}}],"selected":false},{"obj":[{"type":"text2","rect":[1003.552,446.666,109.179,54],"fontSize":32,"text":["New"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10,"color":"#FFC"},"id":"probabilityNewButton","interact":{"click":"function(obj2) {var colors = o('spinner').colors;var freq = stats.freqTable(colors);var colorKeys = {b: 'blue',r: 'red',w: 'white',g: 'green'};var label = o('probabilityLabel');var value = o('probabilityValue');var boxRect = o('probabilityBox').rect;do {var type = ran(0, 8);var valueArray = [];if (type < 3) {var q = ['b', 'r', 'w'].ran();} else if (type < 5) {var q = ['br', 'bw', 'rw'].ran();} else if (type < 7) {var q = ['nb', 'nr', 'nw'].ran();} else {var q = 'g';}if (q.length === 1) {label.text = ['P(<<bold:true>>' + colorKeys[q] + '<<bold:false>>)='];valueArray = [un(freq[q]) ? 0 : freq[q], colors.length];var qLength = colorKeys[q].length;} else if (q.slice(0, 1) === 'n') {q = q.slice(1);label.text = ['P(<<bold:true>>not ' + colorKeys[q] + '<<bold:false>>)='];valueArray = [colors.length - (un(freq[q]) ? 0 : freq[q]), colors.length];var qLength = 4 + colorKeys[q].length;} else {label.text = ['P(<<bold:true>>' + colorKeys[q[0]] + ' or ' + colorKeys[q[1]] + '<<bold:false>>)='];valueArray = [(un(freq[q[0]]) ? 0 : freq[q[0]]) + (un(freq[q[1]]) ? 0 : freq[q[1]]), colors.length];var qLength = 4 + colorKeys[q[0]].length + colorKeys[q[1]].length;}} while (arraysEqual(value.value, valueArray));value.value = valueArray;value.text = ['?'];value.rect[0] = boxRect[0] + 0.38 * boxRect[2] + qLength * 10;label.rect[0] = value.rect[0] - label.rect[2];}"}}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[15,15,1170,670],"fontSize":32,"text":[""],"align":[-1,-1],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":0,"color":"#CFF"},"id":"editbox"}],"vis":false,"selected":false},{"obj":[{"type":"spinner","center":[395.83,335.182],"radius":186.175,"colors":"brb","showLabels":true,"value":0.36,"interact":{"type":"editspinner"},"id":"editspinner","onedit":"function() {o('spinner').colors = o('editspinner').colors;o('spinner').onupdate();}","editColors":"brw"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[815.175,254.526,54,54],"fontSize":32,"text":["-"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10,"color":"#FCF"},"bold":true,"interact":{"click":"function(obj2) {var spinner = o('spinner');if (spinner.colors.length > 2) {spinner.colors = spinner.colors.slice(0, -1);spinner.onupdate();}}"},"id":"editMinus"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[871.782,254.526,54,54],"fontSize":32,"text":["+"],"align":[0,0],"box":{"type":"loose","borderColor":"#000","borderWidth":3,"radius":10,"color":"#FCF"},"bold":true,"interact":{"click":"function(obj2) {var spinner = o('spinner');if (spinner.colors.length < 8) {spinner.colors += ['b', 'r', 'w'].ran();spinner.onupdate();}}"},"id":"editPlus"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[1000.085,23.303,189.024,54],"fontSize":32,"text":["Close <<fontSize:46>>×"],"align":[0,0],"color":"#F00","id":"editclose","bold":true,"interact":{"click":"function(obj2) {for (var p = 0; p < draw.path.length; p++) {var path = draw.path[p];var obj = path.obj[0];if (!un(obj.id) && obj.id.indexOf('edit') === 0) {path.vis = false;}}}"}}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[35,23.303,192.453,54],"fontSize":32,"text":["Edit Spinner"],"align":[-1,0],"bold":true,"id":"edittitle"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[670.555,183.919,383.026,54],"fontSize":32,"text":["Add / remove sectors"],"align":[0,0],"id":"editText1"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[717.025,425.142,290.086,54],"fontSize":32,"text":["Click a sector to⏎change its colour."],"align":[0,0],"id":"editText2"}],"vis":false,"selected":false},{"obj":[{"type":"text2","rect":[579.878,159.723,502.954,447.296],"fontSize":32,"text":["Results after 0 spins<<bold:false>>:⏎"],"align":[-1,-1],"box":{"type":"none","borderColor":"#000","borderWidth":3,"color":"#FFF"},"bold":true,"id":"trialsdata","update":"function() {var data = o('spinner').data;var dataText = '';for (var i = 0; i < 10; i++) {var data2 = data.slice(10 * i, 10 * i + 10);if (data2 === '') continue;dataText += data2.toUpperCase().split('').join(', ');if (data.length > 10 * i + 10) dataText += (i === 9 ? ', ...' : ',' + br);}o('trialsdata').text = ['<<bold:true>>Results after ' + data.length + ' spin' + (data.length === 1 ? '' : 's') + '<<bold:false>>:' + br + dataText];}"}],"vis":false,"selected":false}]}]}]}